# 6. ê³ ê¸‰ SQL í™œìš©

#### p.2ê¶Œ 121 \~ 123

**ê¸°ë¡ âœï¸**

#### author : jung yuha

#### **first Registered : 2022-08-13**

#### last modified : **2022-08-13**

## í’€ì´ <a href="#6364-with" id="6364-with"></a>

### âœï¸ 63,64ë²ˆ : With êµ¬ë¬¸ <a href="#6364-with" id="6364-with"></a>

**ğŸ’ ë¬¸ì œ í•´ì„¤**

> **âœ… with ì ˆì„ ì²˜ë¦¬í•˜ëŠ” DBMS ë‚´ë¶€ ì‹¤í–‰ë°©ì‹ 2ê°€ì§€**
>
> * Materialize ë°©ì‹
>   * ë‚´ë¶€ì ìœ¼ë¡œ ì„ì‹œ í…Œì´ë¸”ì„ ë§Œë“ ë‹¤.
>   * ë§Œë“¤ì–´ì§„ ì„ì‹œ í…Œì´ë¸”ì€ ë°˜ë³µ ì¬ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
>   * ì‹¤í–‰ê³„íšì— **'TEMP TABLE TRANSFORMATION'** ë¼ê³  ëœ¬ë‹¤.
>   * **'materialize'** íŒíŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤.
> * Inline ë°©ì‹
>   * ì°¸ì¡°ëœ íšŸìˆ˜ë§Œí¼ ëŸ°íƒ€ì„ì‹œ ë°˜ë³µ ìˆ˜í–‰ëœë‹¤.
>   * ì„ì‹œí…Œì´ë¸”ì´ ìƒì„±ë˜ì§€ ì•ŠëŠ”ë‹¤.
>   * ì‹¤í–‰ê³„íšì— **'TEMP TABLE TRANSFORMATION'** ë¼ê³  ëœ¨ì§€ ì•ŠëŠ”ë‹¤.
>   * **'Inline'** íŒíŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤.

### âœï¸ 65ë²ˆ : Withì ˆ ì„±ëŠ¥

**Withì ˆ ì„±ëŠ¥ì— ëŒ€í•œ ì„¤ëª…ìœ¼ë¡œ ê°€ì¥ ë¶€ì ì ˆí•œ ê²ƒ**

1. **Withì ˆì—ì„œ ì°¸ì¡°í•˜ëŠ” ì›ë³¸ ì§‘í•©ê³¼ ê²°ê³¼ì§‘í•©ì˜ í¬ê¸° ì°¨ì´ê°€ ì—†ì„ ë•Œ Materialize ë°©ì‹ìœ¼ë¡œ ìˆ˜í–‰í•˜ë©´ ì„±ëŠ¥ì— ë„ì›€ì´ ë˜ì§€ ì•Šì„ ë¿ë§Œ ì•„ë‹ˆë¼ ì˜¤íˆë ¤ ì„±ëŠ¥ì´ ë‚˜ë¹ ì§ˆ ìˆ˜ ìˆë‹¤.** ğŸ‘‰ â­•ï¸
2. **WITH ì ˆì—ì„œ ì²˜ë¦¬í•˜ëŠ” ì›ë³¸ ì§‘í•©ì´ ì‘ê³  ë™ì‹œ ìˆ˜í–‰ ë¹ˆë„ê°€ ë†’ì„ ë•Œ Materialize ë°©ì‹ìœ¼ë¡œ ìˆ˜í–‰í•˜ë©´ ì„±ëŠ¥ì— ì¢‹ë‹¤.** ğŸ‘‰ âŒ
3. **ë§¤ìš° ë§ì€ ë°ì´í„°ë¥¼ ì½ì–´ GROUP BY , ì¡°ì¸ ë“±ì„ í†µí•´ ì§‘í•© í¬ê¸°ë¥¼ ë§ì´ ì¤„ì¼ ìˆ˜ ìˆì„ ë•Œ WITHì ˆì„ Materialize ë°©ì‹ìœ¼ë¡œ ìˆ˜í–‰í•˜ë©´ ì„±ëŠ¥ì— ì¢‹ë‹¤.** ğŸ‘‰ â­•ï¸
4. **ì ˆìì²™ í”„ë¡œê·¸ë¨ íŒ¨í„´(Loop ëŒë©´ì„œ í•œ ê±´ì”© ì²˜ë¦¬í•˜ëŠ” íŒ¨í„´)ì„ ì§‘í•©ì ì¸ ì²˜ë¦¬ íŒ¨í„´ìœ¼ë¡œ ì „í™˜í•˜ê³ ìí•  ë•Œ WITHì ˆì„ ì‚¬ìš©í•˜ë©´ ì„±ëŠ¥ í–¥ìƒì— í° ë„ì›€ì´ ëœë‹¤.** ğŸ‘‰ â­•ï¸

**ğŸ‹ ê¸°ì¶œ í¬ì¸íŠ¸**

1. **Materialize ë°©ì‹ì€ ì¤‘ê°„ ì§‘í•©ì„ ë§Œë“œëŠ” ê³¼ì •ì— ì›ë³¸ ì§‘í•©ì„ ì½ì–´ Temp ê³µê°„ì— ê¸°ë¡í•˜ëŠ” ê³¼ì •ì„ ìˆ˜ë°˜í•˜ë©´ì„œ DISK I/Oê°€ ë°œìƒí•œë‹¤.ë”°ë¼ì„œ ì›ë³¸ì§‘í•©ì´ ì‘ê³  ë™ì‹œ ìˆ˜í–‰ ë¹ˆë„ê°€ ë†’ì„ ë•Œì— ì‚¬ìš©í•˜ë©´ ì˜¤íˆë ¤ ì„±ëŠ¥ì´ ì €í•˜ëœë‹¤.**

**ğŸ’ ë¬¸ì œ í•´ì„¤**

> **âœ… Materialize ë°©ì‹**
>
> * ì¤‘ê°„ ì§‘í•©ì„ ë§Œë“œëŠ” ê³¼ì •ì— ì›ë³¸ ì§‘í•©ì„ ì½ì–´ Temp ê³µê°„ì— ê¸°ë¡í•˜ëŠ” ê³¼ì •ì„ ìˆ˜ë°˜í•˜ë©´ì„œ DISK I/Oê°€ ë°œìƒí•œë‹¤.
>   * ë”°ë¼ì„œ ì›ë³¸ì§‘í•©ì´ ì‘ê³  ë™ì‹œ ìˆ˜í–‰ ë¹ˆë„ê°€ ë†’ì„ ë•Œì— ì‚¬ìš©í•˜ë©´ ì˜¤íˆë ¤ ì„±ëŠ¥ì´ ì €í•˜ëœë‹¤.
>   * ë§¤ìš° ë§ì€ ë°ì´í„°ë¥¼ ì½ì–´ group by , ì¡°ì¸ ë“±ì„ í†µí•´ ì§‘í•© í¬ê¸°ë¥¼ ë§ì´ ì¤„ì¼ ìˆ˜ ìˆì„ ë•Œ ìˆ˜í–‰í•˜ë©´ ì„±ëŠ¥ ê°œì„ ì— ë„ì›€ì´ ëœë‹¤.
> * í•´ë‹¹ ë·°ë¥¼ ì½ì„ ë•Œì—ë„ ë²„í¼ ìºì‹œë¥¼ ê²½ìœ í•˜ì—¬ ì½ëŠ”ë‹¤.
