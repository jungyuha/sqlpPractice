# 1) ë°ì´í„°ë² ì´ìŠ¤ ì•„í‚¤í…ì²˜

### âœï¸ 2ë²ˆ : ê° ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ìŠ¤ì˜ ì—­í•  êµ¬ë¶„í•˜ê¸°

> **âœ… ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ìŠ¤**

**1. System Monitor ( = SMON )**

* ì˜¤ë¼í´ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ì˜ ìƒíƒœë¥¼ ê°ì‹œí•˜ëŠ” ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ìŠ¤
* **ìž¥ì• ê°€ ë°œìƒí•œ ì‹œìŠ¤í…œì„ ìž¬ê¸°ë™í•  ë•Œ ì¸ìŠ¤í„´ìŠ¤ ë³µêµ¬**(instance recovery)ë¥¼ ìˆ˜í–‰
* ìž„ì‹œ ì„¸ê·¸ë¨¼íŠ¸ì™€ ìµìŠ¤í…íŠ¸ë¥¼ ëª¨ë‹ˆí„°ë§
* UNDO ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤. (í¬ê¸°ê°€ ì»¤ì§„ UNDO ì„¸ê·¸ë¨¼íŠ¸ ì¶•ì†Œ ë“±)
* ë‹¤ ì‚¬ìš©í•œ Temp ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ì •ë¦¬í•©ë‹ˆë‹¤.

> **2. Process Monitor( = PMON )**

* ì´ìƒì´ ìƒê¸´ **í”„ë¡œì„¸ìŠ¤ê°€ ì‚¬ìš©í•˜ë˜ ë¦¬ì†ŒìŠ¤ë¥¼ ë³µêµ¬**
* ì˜¤ë¼í´ì—ì„œ ì‚¬ìš©ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ì •ê¸°ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ê°ì‹œí•˜ëŠ” í”„ë¡œì„¸ìŠ¤
* ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œëœ ì„¸ì…˜ì´ ìžˆë‹¤ë©´ ì²˜ë¦¬ì¤‘ì´ì—ˆë˜ ë°ì´í„°ë¥¼ ë³µêµ¬í•˜ê³  ì •ë¦¬í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.
* ë””ìŠ¤íŒ¨ì¹˜ í”„ë¡œì„¸ìŠ¤ì™€ ì„œë²„ í”„ë¡œì„¸ìŠ¤ì˜ ìƒíƒœë¥¼ ì •ê¸°ì ìœ¼ë¡œ ì²´í¬í•˜ê³  ì‹¤í–‰ì´ ì •ì§€ëœ í”„ë¡œì„¸ìŠ¤ê°€ ìžˆë‹¤ë©´ ìž¬ê¸°ë™í•©ë‹ˆë‹¤.
* ì¸ìŠ¤í„´ìŠ¤ì™€ ë””ìŠ¤íŒ¨ì²˜ í”„ë¡œì„¸ìŠ¤ì— ê´€í•œ ì •ë³´ë¥¼ ë¦¬ìŠ¤ë„ˆì— ìžë™ì ìœ¼ë¡œ ë“±ë¡í•©ë‹ˆë‹¤.

> **3. Database Writers( = DBWR )**

* **DB buffer cache**ì— ìžˆëŠ” ë‚´ìš©ì„ **data file(disk)ì—** ë‚´ë ¤ì“°ëŠ” í”„ë¡œì„¸ìŠ¤
* ë‚´ë ¤ì”€ìœ¼ë¡œì¨ DB buffer cacheë¥¼ free ìƒíƒœë¡œ ë§Œë“¤ì–´ ë‹¤ì‹œ ì‚¬ìš©í•  ìˆ˜ ìžˆê²Œ í•´ì¤ë‹ˆë‹¤.

> **4. Archiver( = ARCn )**

* ê½‰ì°¬ Redo ë¡œê·¸ê°€ ë®ì–´ ì“°ì—¬ì§€ê¸° ì „ì— **Archive ë¡œê·¸ ë””ë ‰í† ë¦¬ë¡œ ë°±ì—…**í•œë‹¤.

> **5. CheckPoint ( = CKPT )**

* ì´ì „ì— checkpointê°€ ì¼ì–´ë‚¬ë˜ ë§ˆì§€ë§‰ ì‹œì  ì´í›„ì˜ ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½ ì‚¬í•­ì„ ë°ì´í„° íŒŒì¼ì— ê¸°ë¡í•˜ë„ë¡ íŠ¸ë¦¬ê±°ë§
  * ê¸°ë¡ ì™„ë£Œ í›„ í˜„ìž¬ ì–´ë””ê¹Œì§€ ê¸°ë¡í–ˆëŠ”ì§€ ì»¨íŠ¸ë¡¤ íŒŒì¼ê³¼ ë°ì´í„°íŒŒì¼ í—¤ë”ì— ì €ìž¥
    * ë²„í¼ìºì‹œì™€ ë°ì´í„° íŒŒì¼ì´ ë™ê¸°í™”ëœ ì‹œì  ì´ë‹¤.
* Write ahead logging ë°©ì‹ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ë¦¬ë‘ë¡œê·¸ì— ê¸°ë¡í•´ë‘” ë²„í¼ ë¸”ë¡ì— ëŒ€í•œ ë³€ê²½ ì‚¬í•­ ì¤‘ **ì–´ë””ê¹Œì§€ ë°ì´í„° íŒŒì¼ì— ê¸°ë¡í–ˆëŠ”ì§€ ì²´í¬í¬ì¸íŠ¸ ì •ë³´ë¥¼ ê´€ë¦¬**í•´ì•¼í•¨
  * Write ahead logging ë°©ì‹ : ë°ì´í„° ë³€ê²½ ì „ ë¡œê·¸ë¶€í„° ë‚¨ê¸°ëŠ” ë©”ì»¤ë‹ˆì¦˜
* ìž¥ì• ê°€ ë°œìƒí•˜ë©´ ë§ˆì§€ë§‰ ì²´í¬í¬ì¸íŠ¸ ì´í›„ ë¡œê·¸ ë°ì´í„°ë§Œ ë””ìŠ¤í¬ì— ê¸°ë¡í•¨ìœ¼ë¡œì¨ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë³µêµ¬í•  ìˆ˜ ìžˆëŠ” ìš©ë„ë¡œ ì‚¬ìš©ëœë‹¤.
* ì´ ì •ë³´ë¥¼ ê°±ì‹ í•˜ëŠ” ì£¼ê¸°ê°€ ì‹¤ìˆ˜ë¡ ìž¥ì•  ë°œìƒì‹œ ì¸ìŠ¤í„´ìŠ¤ ë³µêµ¬ ì‹œê°„ë„ ê¸¸ì–´ì§„ë‹¤.

> **6. Recover ( = RECO )**

* ë¶„ì‚° íŠ¸ëžœìž­ì…˜ ê³¼ì •ì— ë°œìƒí•œ ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤.

#### ðŸ‹ ê¸°ì¶œ í¬ì¸íŠ¸

1. **â­ï¸ ì„œë²„ í”„ë¡œì„¸ìŠ¤ì™€ì˜ ì—­í•  êµ¬ë¶„ â­ï¸**

#### ì‚¬ìš©ìž í”„ë¡œì„¸ìŠ¤

```
- **ë¡œê·¸ ë²„í¼**ì— ë¡œê·¸ë¥¼ ê¸°ë¡í•˜ëŠ” ê²ƒì€ DMLì„ ìˆ˜í–‰í•˜ëŠ” **ê° ì‚¬ìš©ìž í”„ë¡œì„¸ìŠ¤**ì´ë‹¤.
- ì‚¬ìš©ìž í”„ë¡œì„¸ìŠ¤ëŠ” **ë¡œê·¸ë²„í¼ì— ë¡œê·¸ë¥¼ ê¸°ë¡**í•˜ê³  **ë°ì´í„° ë¸”ë¡ì„ ë³€ê²½**í•œë‹¤.
```

#### ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ìŠ¤

```
- ê·¸ ì´í›„ **LGWR ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ìŠ¤**ê°€ ì£¼ê¸°ì ìœ¼ë¡œ **ë¡œê·¸ ë²„í¼ ì—”íŠ¸ë¦¬ë¥¼ Redo ë¡œê·¸ íŒŒì¼ì— ê¸°ë¡**í•œë‹¤.
```

### âœï¸ 5ë²ˆ : Undoë¥¼ ì‚¬ìš©í•˜ëŠ” ëª©ì 

#### Undoë¥¼ ì‚¬ìš©í•˜ëŠ” ëª©ì  : ê° íŠ¸ëžœìž­ì…˜ì´ ì‚¬ìš©í•˜ëŠ” ë¦¬ì†ŒìŠ¤ì™€ ê´€ë ¨í•˜ì—¬ ì‚¬ê³ í•˜ë„ë¡ í•œë‹¤.

1. **Transaction Rollback** (íŠ¸ëžœìž­ì…˜ ë¡¤ë°±)
2. **Transaction Recovery** (íŠ¸ëžœìž­ì…˜ ë³µêµ¬)

* ì¸ìŠ¤í„´ìŠ¤ ë³µêµ¬ì‹œ íŠ¸ëžœìž­ì…˜ ë³µêµ¬ ì´í›„ íŠ¸ëžœìž­ì…˜ì„ ë¡¤ë°±í•˜ëŠ” ë°ì— ì“°ì¸ë‹¤.

1. ì˜¤ë¼í´ì˜ \*\* â­ï¸ë¬¸ìž¥ ìˆ˜ì¤€ ì½ê¸° ì¼ê´€ì„±â­ï¸ \*\* ( Read Consistency )

### âœï¸ 6ë²ˆ : Redoë¥¼ ì‚¬ìš©í•˜ëŠ” ëª©ì 

#### Redoë¥¼ ì‚¬ìš©í•˜ëŠ” ëª©ì  : ê° íŠ¸ëžœìž­ì…˜ë³´ë‹¤ ë” í° ë²”ìœ„ì¸ ë‹¤ìˆ˜ê°€ ê³µìœ í•˜ëŠ” ë²”ìœ„ì¸ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ì‚¬ê³ í•œë‹¤.

1. **Database Recovery ( = Media Recovery )** (ë°ì´í„°ë² ì´ìŠ¤ ë³µêµ¬)

* ì´ ë•Œ Archived Redo ë¡œê·¸ë¥¼ ì´ìš©í•œë‹¤.

1. **Cache Recovery** (ë²„í¼ ìºì‹œ,ì¸ìŠ¤í„´ìŠ¤ ë³µêµ¬)

* ì¸ìŠ¤í„´ìŠ¤ ë³µêµ¬ì‹œ ì¸ìŠ¤í„´ìŠ¤ ìƒíƒœë¥¼ Roll Forwardí•˜ëŠ” ë°ì— ì“°ì¸ë‹¤.
* ë²„í¼ ìºì‹œì—ë§Œ ì ìš©í•œ ë³€ê²½ ì‚¬í•­ , ì•„ì§ ë°ì´í„° íŒŒì¼ì— ê¸°ë¡ë˜ì§€ ì•Šì€ ìƒíƒœì˜ íŠ¸ëžœìž­ì…˜ ë°ì´í„° ìœ ì‹¤ì— ëŒ€ë¹„í•˜ê¸° ìœ„í•´ Redo ë¡œê·¸ë¥¼ ë‚¨ê¹€

> **ðŸ”¥ í—·ê°ˆë¦¬ì§€ ì•Šê¸° : ë²„í¼ ìºì‹œì™€ Redo ë¡œê·¸ëŠ” ì—„ì—°ížˆ ë‹¤ë¥¸ ê°œë…ì´ë‹¤!!**
>
> * Redo ë¡œê·¸ëŠ” ë²„í¼ ìºì‹œì˜ ë³€ê²½ ì‚¬í•­ì„ ê¸°ë¡í•˜ëŠ” ê³³ìœ¼ë¡œ ë²„í¼ ìºì‹œì˜ ìƒíƒœì˜ ë³µêµ¬í•˜ê±°ë‚˜ Roll Forwardí•˜ê±°ë‚˜ Fast commit í•˜ëŠ” ë°ì— ì‚¬ìš©ëœë‹¤.
> * Redo ë¡œê·¸ì— **ë°ì´í„° ìžì²´**ê°€ ì €ìž¥ë˜ëŠ” ê²Œ ì•„ë‹˜! **ìƒíƒœ ë³€í™”**ë¥¼ ê¸°ë¡í•˜ëŠ” ê±°ìž„ !

1. ì˜¤ë¼í´ì˜ \*\* â­ï¸Fast Commitâ­ï¸ \*\*

* **Fast commit**ì€ '**Redo**' í‚¤ì›Œë“œì™€ ì§ê¿ì´ë‹¤.
* ë³€ê²½ëœ ë©”ëª¨ë¦¬ ë²„í¼ ë¸”ë¡ì„ íŒŒì¼ì— ê¸°ë¡í•˜ëŠ” ìž‘ì—…ì€ Random ì•¡ì„¸ìŠ¤ë¡œ ì§„í–‰ëœë‹¤. ê·¸ë¦¬ê³  ì´ ìž‘ì—…ì€ ë§¤ìš° ëŠë¦¬ë‹¤.
* ìš°ì„  **Append ë°©ì‹ìœ¼ë¡œ ë¹ ë¥´ê²Œ ë¡œê·¸ íŒŒì¼ì— ê¸°ë¡**í•œ í›„ ë²„í¼ ìºì‹œì™€ ë°ì´í„° ë¸”ë¡ ê°„ì˜ ë™ê¸°í™”ëŠ” ì ì ˆí•œ ìˆ˜ë‹¨ì„ ì´ìš©í•´ **ë‚˜ì¤‘ì— ì¼ê´„(Batch)ë¡œ ìˆ˜í–‰**í•œë‹¤.

#### ðŸ‹ ê¸°ì¶œ í¬ì¸íŠ¸

1. **â­ï¸ Redo ë¡œê·¸ì˜ ìŠ¤ìœ„ì¹­ ì£¼ê¸° â­ï¸**

* ìŠ¤ìœ„ì¹­ ì£¼ê¸°ê°€ ì§§ìœ¼ë©´ DB Hangì´ ë°œìƒí•  ìˆ˜ ìžˆë‹¤. ë”°ë¼ì„œ ìŠ¤ìœ„ì¹­ì´ ìžì£¼ ë°œìƒí•˜ì§€ ì•ŠëŠ” ê²Œ ì¢‹ë‹¤.

### âœï¸ 7ë²ˆ : Redo ë©”ì»¤ë‹ˆì¦˜

#### Redo ë©”ì»¤ë‹ˆì¦˜ :

1. **Log Force at Commit**

* DMLìˆ˜í–‰í•˜ëŠ” ì‚¬ìš©ìž í”„ë¡œì„¸ìŠ¤ê°€ ë¡œê·¸ ë²„í¼ì— ë¡œê·¸ë¥¼ ê¸°ë¡í•˜ê³  ë°ì´í„° ë¸”ë¡ì„ ë³€ê²½
  * â­ï¸ ì¦‰, \*\*ë¡œê·¸ ê¸°ë¡ -> ë°ì´í„° ë¸”ë¡ ë³€ê²½ \*\* â­ï¸
* ì´í›„ LGWRê°€ ì£¼ê¸°ì ìœ¼ë¡œ ë¡œê·¸ ë²„í¼ ì—”íŠ¸ë¦¬ë¥¼ Redoë¡œê·¸ íŒŒì¼ì— ê¸°ë¡
* íŠ¸ëžœìž­ì…˜ì˜ ì˜ì†ì„±ì„ ë³´ìž¥í•˜ê¸° ìœ„í•´ **ìµœì†Œ ì»¤ë°‹ ì‹œì ì—**ëŠ” ë¡œê·¸ë¥¼ **ë©”ëª¨ë¦¬ê°€ ì•„ë‹Œ ë°ì´í„°íŒŒì¼ì—** ì•ˆì „í•˜ê²Œ ê¸°ë¡í•´ì•¼í•¨ì„ ì˜ë¯¸
  * â­ï¸ ì¦‰, ì•ˆì „í•œ ë¡œê¹…ì€ **ë©”ëª¨ë¦¬ê°€ ì•„ë‹ˆë¼ íŒŒì¼ì—** í•´ì•¼í•œë‹¤ëŠ” ì†Œë¦¬ìž„! â­ï¸

1. **Fast Commit**

* ì‚¬ìš©ìžê°€ ìš”êµ¬í•œ ê°±ì‹  ì‚¬í•­ì„ ë²„í¼ìºì‹œì—ë§Œ ê¸°ë¡í•œ ì±„ ì•„ì§ ë””ìŠ¤í¬ì— ì˜êµ¬ ê¸°ë¡ í•˜ì§€ ì•Šì•„ë„ \*\* â­ï¸ Redo ë¡œê·¸(ë°ì´í„° íŒŒì¼ì— ìœ„ì¹˜)\*\*ë¥¼ ë¯¿ê³  ë¹ ë¥´ê²Œ ì»¤ë°‹ì„ ì™„ë£Œ â­ï¸í•œë‹¤ëŠ” ì˜ë¯¸
* ì»¤ë°‹ ì •ë³´ê°€ ë¡œê·¸ íŒŒì¼ì— ê¸°ë¡ë˜ì–´ ìžˆê¸°ë§Œ í•˜ë©´ ì¸ìŠ¤í„´ìŠ¤ê°€ ìœ ì‹¤ë˜ì–´ë„ ë³µêµ¬ê°€ ê°€ëŠ¥í•¨

1. **Write Ahead Logging**

* ë²„í¼ ìºì‹œ ë¸”ë¡ì„ ê°±ì‹ í•˜ê¸° ì „ì— ë¨¼ì € Redo ì—”íŠ¸ë¦¬ë¥¼ ë¡œê·¸ ë²„í¼ì— ê¸°ë¡í•´ì•¼í•¨
* DBWRê°€ Dirty ë¸”ë¡ë“¤ì„ ë°ì´í„° íŒŒì¼ì— ê¸°ë¡í•˜ê¸° ì „ì— ë¨¼ì € LGWRê°€ Redo ì—”íŠ¸ë¦¬ë¥¼ ëª¨ë‘ Redo ë¡œê·¸ íŒŒì¼ì— ê¸°ë¡í–ˆìŒì´ ë³´ìž¥ë˜ì–´ì•¼í•¨
* ì¦‰ , ë¡œê·¸ ë²„í¼ ê¸°ë¡ > ë²„í¼ ìºì‹œ ê°±ì‹  ê·¸ë¦¬ê³ 

### âœï¸ 8ë²ˆ,9ë²ˆ : SGA êµ¬ì„±ìš”ì†Œ

#### 1) SGA êµ¬ì„±ìš”ì†Œ

1. **DB ë²„í¼ ìºì‹œ**

* ìºì‹± ëª©ë¡
  * í…Œì´ë¸” ë¸”ë¡
  * ì¸ë±ìŠ¤ ë¸”ë¡
  * Undo ë¸”ë¡

1. **ë”•ì…”ë„ˆë¦¬ ìºì‹œ**

* ìºì‹± ëª©ë¡
  * í…Œì´ë¸” ì •ë³´
  * ì¸ë±ìŠ¤ ì •ë³´
  * ë°ì´í„°íŒŒì¼ ì •ë³´
  * ì‹œí€€ìŠ¤ (ì‹œí€€ìŠ¤ëŠ” ë”°ë¡œ ì €ìž¥ê³µê°„ì´ ì—†ê³  ìºì‹±ì´ ëœë‹¤ !)

1. **ë¼ì´ë¸ŒëŸ¬ë¦¬ ìºì‹œ**

* ìºì‹± ëª©ë¡
  * DB ì €ìž¥í˜• í•¨ìˆ˜/í”„ë¡œì‹œì €
  * íŠ¸ë¦¬ê±°
  * SQL

1. **Result ìºì‹œ**

* SQL ê²°ê³¼ ì§‘í•©ì„ ìºì‹±

1. **ë¡œê·¸ ë²„í¼**

#### 2) PGA êµ¬ì„±ìš”ì†Œ

1. **ì†ŒíŠ¸ ì˜ì—­ (SORT AREA)**

#### ðŸ‹ ê¸°ì¶œ í¬ì¸íŠ¸

1. **â­ï¸ SORT AREAëŠ” SGA ì˜ì—­(ê³µìœ  ì˜ì—­)ì´ ì•„ë‹ˆë‹¤ ! â­ï¸**
2. **â­ï¸ SQLì€ ë”•ì…”ë„ˆë¦¬ ìºì‹œê°€ ì•„ë‹ˆë¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ ìºì‹œì— ìœ„ì¹˜í•œë‹¤ ! â­ï¸**

> **ðŸŒ¸ í‚¤ì›Œë“œ ì§ê¿**
>
> 1. `Fast commit` ê³¼ `Redo`
> 2. `Archived Redo ë¡œê·¸` ê³¼ `ë¯¸ë””ì–´ ë³µêµ¬`
> 3. `Log Force at Commit` ê³¼ `Redo`
> 4. `Write ahead Logging` ê³¼ `Redo`
> 5. `Snapshot Too Old` ì™€ `Undo`
> 6. `Fast commit` ê³¼ `Redo`
