ë¬¸ì œ ë§í¬ : https://velog.io/@yooha9621/SQLPì‹¤ê¸°ë¬¸ì œ-4ì¥-ì¡°ì¸íŠœë‹-ìŠ¤ì¹¼ë¼ì„œë¸Œì¿¼ë¦¬43ë²ˆ

## [ë‚´ ë‹µì•ˆ-push_pred í™œìš©]
- ê³ ê° í…Œì´ë¸”ì—ì„œ ë¶€ë¶„ ë²”ìœ„ ì²˜ë¦¬ í•´ì„œ í•œë²ˆ ê°ì‹¸ê³  ê·¸ ê²°ê³¼ê°’ì„ ë‚˜ì¤‘ì— ê³ ê° í…Œì´ë¸”ê³¼ ì¡°ì¸í•˜ë ¤ê³  í–ˆë‹¤.
- ê·¼ë°.. í‹€ë¦°ê±´ê°€? ë¶€ë¶„ ë²”ìœ„ ì²˜ë¦¬ í•´ì•¼ëœëŒ€ì„œ í•œë²ˆ ê°ìŒŒëŠ”ë°...
```sql
select /*+ leading(T1) USE_NL(T2)*/ T1.* 
from (
  select c.ê³ ê°ë²ˆí˜¸, c.ê³ ê°ëª…
  from ê³ ê° c
  where c. ê°€ì…ì¼ì‹œ >= trunc(add_months(sysdate, -1), 'mm')
) T1,(/*+ NO_MERGE PUSH_PRED */select ê³ ê°ë²ˆí˜¸
      ,avg(ê±°ë˜ê¸ˆì•¡) í‰ê· ê±°ë˜
      ,min(ê±°ë˜ê¸ˆì•¡) ìµœì†Œê±°ë˜
      ,max(ê±°ë˜ê¸ˆì•¡) ìµœëŒ€ê±°ë˜
      from ê±°ë˜
      where ê±°ë˜ì¼ì‹œ >= trunc(sysdate, 'mãœ')
      group by ê³ ê°ë²ˆí˜¸) T2
where T1.ê³ ê°ë²ˆí˜¸ = T2.ê³ ê°ë²ˆí˜¸;
```
## [ë‹µì•ˆ-push_pred í™œìš©]
- ë‹µì•ˆì€ ì•„ë˜ì™€ ê°™ì´ ë‚˜ì™€ìˆì—ˆë‹¤.
```sql
select /*+ ORDERED USE_NL(T1) */ c.ê³ ê°ë²ˆí˜¸, c.ê³ ê°ëª…
	from ê³ ê° c,(select /*+ NO_MERGE PUSH_PRED */ ê³ ê°ë²ˆí˜¸
      ,avg(ê±°ë˜ê¸ˆì•¡) í‰ê· ê±°ë˜
      ,min(ê±°ë˜ê¸ˆì•¡) ìµœì†Œê±°ë˜
      ,max(ê±°ë˜ê¸ˆì•¡) ìµœëŒ€ê±°ë˜
      from ê±°ë˜
      where ê±°ë˜ì¼ì‹œ >= trunc(sysdate, 'mãœ')
      group by ê³ ê°ë²ˆí˜¸) T1
where c.ê°€ì…ì¼ì‹œ >= trunc(add_months(sysdate, -1), 'mm')
where T1.ê³ ê°ë²ˆí˜¸ = T2.ê³ ê°ë²ˆí˜¸;
```
ë˜ëŠ”
```sql
select /*+ ORDERED USE_NL(T1) NO_MERGE(T1) PUSH_PRED(T1) */ c.ê³ ê°ë²ˆí˜¸, c.ê³ ê°ëª…
	from ê³ ê° c,(select ê³ ê°ë²ˆí˜¸
      ,avg(ê±°ë˜ê¸ˆì•¡) í‰ê· ê±°ë˜
      ,min(ê±°ë˜ê¸ˆì•¡) ìµœì†Œê±°ë˜
      ,max(ê±°ë˜ê¸ˆì•¡) ìµœëŒ€ê±°ë˜
      from ê±°ë˜
      where ê±°ë˜ì¼ì‹œ >= trunc(sysdate, 'mãœ')
      group by ê³ ê°ë²ˆí˜¸) T1
where c.ê°€ì…ì¼ì‹œ >= trunc(add_months(sysdate, -1), 'mm')
where T1.ê³ ê°ë²ˆí˜¸ = T2.ê³ ê°ë²ˆí˜¸;
```
> 
#### ê·¸ëŸ¬ë©´ ì´ ìƒí™©ì—ì„œ ë¶€ë¶„ë²”ìœ„ì²˜ë¦¬ê°€ ë“¤ì–´ê°€ë©´ ì¿¼ë¦¬ëŠ” ì–´ë–»ê²Œ ë³€í•˜ëŠ”ê±°ì§€..? ğŸ¤” 
```sql
select * from (
  select c.ê³ ê°ë²ˆí˜¸, c.ê³ ê°ëª…
      from ê³ ê° c,(select /*+ NO_MERGE PUSH_PRED */ ê³ ê°ë²ˆí˜¸
        ,avg(ê±°ë˜ê¸ˆì•¡) í‰ê· ê±°ë˜
        ,min(ê±°ë˜ê¸ˆì•¡) ìµœì†Œê±°ë˜
        ,max(ê±°ë˜ê¸ˆì•¡) ìµœëŒ€ê±°ë˜
        from ê±°ë˜
        where ê±°ë˜ì¼ì‹œ >= trunc(sysdate, 'mãœ')
        group by ê³ ê°ë²ˆí˜¸) T1
  where c.ê°€ì…ì¼ì‹œ >= trunc(add_months(sysdate, -1), 'mm')
  where T1.ê³ ê°ë²ˆí˜¸ = T2.ê³ ê°ë²ˆí˜¸
) where rownum <= 10;
```
- ì´ë ‡ê²Œ ë˜ë‚˜?? ë¹„ìŠ·í•œ ë¬¸ì œê°€ ì €ë²ˆ SQLPì— ë‚˜ì™”ëŠ”ë° ë‚˜ëŠ” ë‚´ ë‹µì•ˆê°™ì´ í•œë²ˆ ê°ì‹¸ì„œ ëª…ì‹œì ìœ¼ë¡œ 'ë¶€ë¶„ë²”ìœ„ ì²˜ë¦¬ í›„'ì— ì¡°ì¸í•˜ë„ë¡ ê¸°ìˆ í•˜ì˜€ë‹¤.ê·¼ë° ê·¸ë ‡ê²Œ ì¨ì„œ ë‚´ê°€ ì ìˆ˜ë¥¼ ë°˜ë§Œ ë°›ì•˜ë˜ê±´ê°€!!??
- ì•„ë˜ê°€ ë‹µì´ë¼ë©´ .. ê³ ê° í…Œì´ë¸”ê³¼ ê±°ë˜ í…Œì´ë¸” ì¡°ì¸ ì‘ì—…ì„ í•œ ë¸”ë¡ ì•ˆì—ë‹¤ê°€ ë„£ê³  íŒíŠ¸ ëª…ì‹œí•˜ê³  ë°–ì—ë‹¤ê°€ ë¶€ë¶„ ë²”ìœ„ ì²˜ë¦¬ë¥¼ í•˜ë©´ ë˜ëŠ”ê±´ê°€ ?